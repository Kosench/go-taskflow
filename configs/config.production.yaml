# Production configuration
app:
  environment: production
  debug: false

server:
  http:
    port: 8080
    read_timeout: 30s
    write_timeout: 30s
  grpc:
    port: 50051
    max_connection_age: 15m

database:
  host: ${DB_HOST}
  port: ${DB_PORT}
  name: ${DB_NAME}
  user: ${DB_USER}
  password: ${DB_PASSWORD}
  ssl_mode: require
  max_open_conns: 100
  max_idle_conns: 10

kafka:
  brokers:
    - ${KAFKA_BROKER_1}
    - ${KAFKA_BROKER_2}
    - ${KAFKA_BROKER_3}
  producer:
    required_acks: -1  # Wait for all ISR
    compression: snappy
    idempotent: true
    retry_max: 10
  consumer:
    group_id: task-workers-prod
    session_timeout: 30s
    max_poll_records: 500

worker:
  concurrency: 20
  max_retries: 5
  process_timeout: 10m

metrics:
  enabled: true
  port: 9090

tracing:
  enabled: true
  sample_rate: 0.1  # Sample 10% in production

log:
  level: info
  format: json
  stack_trace: true  # For errors